<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"12tall.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"hide","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="访问控制列表  作用 过滤，抓取数据，但是ACL 会影响设备性能">
<meta property="og:type" content="article">
<meta property="og:title" content="ACL">
<meta property="og:url" content="https://12tall.github.io/2022/08/03/ccna/acl/index.html">
<meta property="og:site_name" content="12Tall">
<meta property="og:description" content="访问控制列表  作用 过滤，抓取数据，但是ACL 会影响设备性能">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://12tall.github.io/2022/08/03/ccna/acl/acl.png">
<meta property="article:published_time" content="2022-08-03T00:00:00.000Z">
<meta property="article:modified_time" content="2025-07-13T03:40:34.070Z">
<meta property="article:author" content="12Tall">
<meta property="article:tag" content="ccna">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://12tall.github.io/2022/08/03/ccna/acl/acl.png">


<link rel="canonical" href="https://12tall.github.io/2022/08/03/ccna/acl/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://12tall.github.io/2022/08/03/ccna/acl/","path":"2022/08/03/ccna/acl/","title":"ACL"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ACL | 12Tall</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.5.0/mermaid.min.js","integrity":"sha256-2obLuIPcceEhkE3G09G33hBdmE55ivVcZUlcKcGNHjU="}}</script>
  <script src="/js/third-party/tags/mermaid.js" defer></script>





  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous">
  <script class="next-config" data-name="katex" type="application/json">{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script>
  <script src="/js/third-party/math/katex.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="12Tall" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">12Tall</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">12Tall's blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%88%97%E8%A1%A8"><span class="nav-number">1.</span> <span class="nav-text"> 访问控制列表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8"><span class="nav-number">1.1.</span> <span class="nav-text"> 作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E4%BD%9C"><span class="nav-number">1.2.</span> <span class="nav-text"> 动作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">1.3.</span> <span class="nav-text"> 使用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="nav-number">1.4.</span> <span class="nav-text"> 小技巧</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B"><span class="nav-number">2.</span> <span class="nav-text"> 示例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.</span> <span class="nav-text"> 配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">3.</span> <span class="nav-text"> 参考资料</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="12Tall"
      src="/images/logo.png">
  <p class="site-author-name" itemprop="name">12Tall</p>
  <div class="site-description" itemprop="description">蝉噪林逾静 鸟鸣山更幽</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">137</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">227</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/12tall" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;12tall" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fb.ouyang@outlook.com" title="E-Mail → mailto:fb.ouyang@outlook.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://12tall.github.io/2022/08/03/ccna/acl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/logo.png">
      <meta itemprop="name" content="12Tall">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="12Tall">
      <meta itemprop="description" content="蝉噪林逾静 鸟鸣山更幽">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="ACL | 12Tall">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ACL
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-03 00:00:00" itemprop="dateCreated datePublished" datetime="2022-08-03T00:00:00+00:00">2022-08-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-07-13 03:40:34" itemprop="dateModified" datetime="2025-07-13T03:40:34+00:00">2025-07-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/maintenance/" itemprop="url" rel="index"><span itemprop="name">maintenance</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>921</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="访问控制列表"><a class="markdownIt-Anchor" href="#访问控制列表"></a> 访问控制列表</h2>
<h3 id="作用"><a class="markdownIt-Anchor" href="#作用"></a> 作用</h3>
<p>过滤，抓取数据，但是ACL 会影响设备性能</p>
<span id="more"></span>
<h3 id="动作"><a class="markdownIt-Anchor" href="#动作"></a> 动作</h3>
<ul>
<li>允许：permit</li>
<li>拒绝：deny</li>
<li>日志：logging</li>
</ul>
<h3 id="使用场景"><a class="markdownIt-Anchor" href="#使用场景"></a> 使用场景</h3>
<ul>
<li>VPN</li>
<li>路由过滤</li>
<li>NAT</li>
</ul>
<h3 id="小技巧"><a class="markdownIt-Anchor" href="#小技巧"></a> 小技巧</h3>
<ul>
<li>标准acl 只能匹配源地址</li>
<li>扩展acl 支持匹配源地址、目的地址、端口号、协议等</li>
<li>acl 是自上而下顺序匹配的</li>
<li>acl 的步长一般应为10，为了便于后面插入新的规则</li>
<li>核心交换机最好不要配置任何ACL，单一功能</li>
</ul>
<h2 id="示例"><a class="markdownIt-Anchor" href="#示例"></a> 示例</h2>
<p><img src="acl.png" alt="acl" /></p>
<h3 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">R1<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#no ip routing</span>
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int f0/0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip add 172.16.10.1 255.255.255.0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no sh</span>
*Mar  <span class="token number">1</span> 00:01:18.887: %LINK-3-UPDOWN: Interface FastEthernet0/0, changed state to up
*Mar  <span class="token number">1</span> 00:01:19.887: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/0, changed state to up
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#exit</span>
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ip default-gateway 172.16.10.254</span>
R1<span class="token comment">#ping 172.16.10.1  </span>

<span class="token comment"># R2 与R1 的配置大同小异  </span>

<span class="token comment"># R3   </span>
<span class="token comment"># 创建vlan</span>
Router<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 10</span>
Router<span class="token punctuation">(</span>config-vlan<span class="token punctuation">)</span><span class="token comment">#exit</span>
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int vlan 10</span>
Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip add 172.16.10.254 255.255.255.0</span>
Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no sh</span>
Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#exit</span>

<span class="token comment"># 给vlan 添加接口</span>
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int range  f1/0 - 1</span>
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#switchport mode access</span>
Router<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 10</span>
Router<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#no sh</span>
Router<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#exit  </span>

Router<span class="token comment">#show vlan-switch brief</span>

VLAN Name                             Status    Ports
----------------------------------------------------------------------------
<span class="token number">1</span>    default                          active    Fa1/2, Fa1/3, Fa1/4, Fa1/5
                                                Fa1/6, Fa1/7, Fa1/8, Fa1/9
                                                Fa1/10, Fa1/11, Fa1/12, Fa1/13
                                                Fa1/14, Fa1/15
<span class="token number">10</span>   VLAN0010                         active    Fa1/0, Fa1/1
<span class="token number">1002</span> fddi-default                     act/unsup
<span class="token number">1003</span> token-ring-default               act/unsup
<span class="token number">1004</span> fddinet-default                  act/unsup
<span class="token number">1005</span> trnet-default                    act/unsup

<span class="token comment"># 配置上联接口  </span>
Router<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int f1/2</span>
Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no switchport  # close switch function,not reccomended </span>
Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#</span>
*Mar  <span class="token number">1</span> 00:11:54.607: %LINEPROTO-5-UPDOWN: Line protocol on Interface Vlan1, changed state to down
*Mar  <span class="token number">1</span> 00:11:56.635: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet1/2, changed state to up
  
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 34</span>
Router<span class="token punctuation">(</span>config-vlan<span class="token punctuation">)</span><span class="token comment">#exit</span>
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int vlan 34</span>
Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip add 172.16.34.3 255.255.255.0</span>

<span class="token comment"># R4</span>
R4<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
R4<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int f0/0</span>
R4<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip add 172.16.34.4 255.255.255.0</span>
R4<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no sh</span>
R4<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#exit</span>

<span class="token comment"># vlan: access, input add a tag; out put get rid of a tag</span>

R4<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
R4<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int loopback 0</span>
R4<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip add</span>
*Mar  <span class="token number">1</span> 00:21:06.731: %LINEPROTO-5-UPDOWN: Line protocol on Interface Loopback0, changed state to up
R4<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip add 114.114.114.114 255.255.255.255</span>
R4<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#exit</span>
R4<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#exit</span>
R4<span class="token comment">#ping 1</span>
*Mar  <span class="token number">1</span> 00:21:27.751: %SYS-5-CONFIG_I: Configured from console by console
R4<span class="token comment">#ping 114.114.114.114</span>

Type escape sequence to abort.
Sending <span class="token number">5</span>, <span class="token number">100</span>-byte ICMP Echos to <span class="token number">114.114</span>.114.114, <span class="token function">timeout</span> is <span class="token number">2</span> seconds:
<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
Success rate is <span class="token number">100</span> percent <span class="token punctuation">(</span><span class="token number">5</span>/5<span class="token punctuation">)</span>, round-trip min/avg/max <span class="token operator">=</span> <span class="token number">1</span>/1/1 ms



<span class="token comment">#######################################</span>
<span class="token comment"># 在R3 配置ACL  </span>
<span class="token comment">#######################################</span>
Switch<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
Switch<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ip access-list extended ?</span>
  <span class="token operator">&lt;</span><span class="token number">100</span>-19<span class="token operator"><span class="token file-descriptor important">9</span>></span>    Extended IP access-list number
  <span class="token operator">&lt;</span><span class="token number">2000</span>-269<span class="token operator"><span class="token file-descriptor important">9</span>></span>  Extended IP access-list number <span class="token punctuation">(</span>expanded range<span class="token punctuation">)</span>
  WORD         Access-list name

Switch<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ip access-list extended acl_name ?</span>
  <span class="token operator">&lt;</span>cr<span class="token operator">></span>

Switch<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ip access-list extended acl_name</span>
Switch<span class="token punctuation">(</span>config-ext-nacl<span class="token punctuation">)</span><span class="token comment">#?</span>
Ext Access List configuration commands:
  <span class="token operator">&lt;</span><span class="token number">1</span>-214748364<span class="token operator"><span class="token file-descriptor important">7</span>></span>  Sequence Number
  default         Set a <span class="token builtin class-name">command</span> to its defaults
  deny            Specify packets to reject
  dynamic         Specify a DYNAMIC list of PERMITs or DENYs
  evaluate        Evaluate an access list
  <span class="token builtin class-name">exit</span>            Exit from access-list configuration mode
  no              Negate a <span class="token builtin class-name">command</span> or <span class="token builtin class-name">set</span> its defaults
  permit          Specify packets to forward
  remark          Access list entry comment

Switch<span class="token punctuation">(</span>config-ext-nacl<span class="token punctuation">)</span><span class="token comment">#10 permit ip ?</span>
  A.B.C.D  Source address
  any      Any <span class="token builtin class-name">source</span> <span class="token function">host</span>
  <span class="token function">host</span>     A single <span class="token builtin class-name">source</span> <span class="token function">host</span>

Switch<span class="token punctuation">(</span>config-ext-nacl<span class="token punctuation">)</span><span class="token comment">#10 permit ip 172.16.10.1 0.0.0.0 ?</span>
  A.B.C.D  Destination address
  any      Any destination <span class="token function">host</span>
  <span class="token function">host</span>     A single destination <span class="token function">host</span>

Switch<span class="token punctuation">(</span>config-ext-nacl<span class="token punctuation">)</span><span class="token comment">#10 permit ip 172.16.10.1 0.0.0.0 host 172.16.10.2 ?</span>
  dscp        Match packets with given dscp value
  fragments   Check non-initial fragments
  log         Log matches against this entry
  log-input   Log matches against this entry, including input interface
  option      Match packets with given IP Options value
  precedence  Match packets with given precedence value
  reflect     Create reflexive access list entry
  time-range  Specify a time-range
  tos         Match packets with given TOS value
  <span class="token operator">&lt;</span>cr<span class="token operator">></span>

Switch<span class="token comment">#show ip access-lists</span>
Extended IP access list acl_name
    <span class="token number">10</span> permit <span class="token function">ip</span> <span class="token function">host</span> <span class="token number">172.16</span>.10.1 <span class="token function">host</span> <span class="token number">172.10</span>.1.2

<span class="token comment">######应用#####</span>
int vlan <span class="token number">34</span>
<span class="token comment"># 出栈、入栈</span>
<span class="token function">ip</span> access-group guolv in/out
<span class="token comment"># acl 默认会拒绝any 作为垫底策略，华为是允许所有</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h2>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1kE411N7JV">哔哩哔哩</a></li>
</ol>
<link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><script src="https://fastly.jsdelivr.net/npm/d3@7"></script><script src="https://fastly.jsdelivr.net/npm/markmap-view@0.18.10"></script><script src="https://fastly.jsdelivr.net/npm/markmap-toolbar@0.18.10"></script>
<link rel="stylesheet" href="/css/markmap.css">

<script src="/js/markmap.js"></script>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>12Tall
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://12tall.github.io/2022/08/03/ccna/acl/" title="ACL">https://12tall.github.io/2022/08/03/ccna/acl/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/ccna/" rel="tag"># ccna</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/08/03/ccna/ip/" rel="prev" title="IP Address">
                  <i class="fa fa-angle-left"></i> IP Address
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/08/03/uac/" rel="next" title="Python 请求UAC">
                  Python 请求UAC <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  
  <div class="comments giscus-container">
  </div>
  
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">12Tall</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">153k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">9:15</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="giscus" type="application/json">{"enable":true,"repo":"12Tall/12tall.github.io","repo_id":"MDEwOlJlcG9zaXRvcnkyOTY1NjE5MzU=","category":"General","category_id":"DIC_kwDOEa0tD84CXgDH","mapping":"pathname","strict":0,"reactions_enabled":1,"emit_metadata":1,"theme":"light","lang":"en","crossorigin":"anonymous","input_position":"bottom","loading":"lazy"}</script>

<script>
document.addEventListener('page:loaded', () => {
  if (!CONFIG.page.comments) return;

  NexT.utils.loadComments('.giscus-container')
    .then(() => NexT.utils.getScript('https://giscus.app/client.js', {
      attributes: {
        async                   : true,
        crossOrigin             : 'anonymous',
        'data-repo'             : CONFIG.giscus.repo,
        'data-repo-id'          : CONFIG.giscus.repo_id,
        'data-category'         : CONFIG.giscus.category,
        'data-category-id'      : CONFIG.giscus.category_id,
        'data-mapping'          : CONFIG.giscus.mapping,
        'data-strict'           : CONFIG.giscus.strict,
        'data-reactions-enabled': CONFIG.giscus.reactions_enabled,
        'data-emit-metadata'    : CONFIG.giscus.emit_metadata,
        'data-theme'            : CONFIG.giscus.theme,
        'data-lang'             : CONFIG.giscus.lang,
        'data-input-position'   : CONFIG.giscus.input_position,
        'data-loading'          : CONFIG.giscus.loading
      },
      parentNode: document.querySelector('.giscus-container')
    }));
});
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9670282672953561" crossorigin="anonymous"></script>
</body>
</html>
